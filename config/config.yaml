# Refresherr config

scan:
  roots:
    - /opt/media/jelly/tv
    - /opt/media/jelly/hayu
    - /opt/media/jelly/4k
    - /opt/media/jelly/doc
  
  # Mount points to verify before scanning (optional)
  mount_checks:
    - /mnt/remote/realdebrid
  
  # Path rewrites for target translation (optional)
  rewrites:
    - from: /mnt/remote/realdebrid
      to: /mnt/cloud/rd
  
  # Scan interval in seconds (can be overridden by SCAN_INTERVAL env)
  interval: 300
  
  # Patterns to ignore during scanning
  ignore_patterns:
    - cinesync
    - .tmp

# Map path prefixes to relay instance keys (must match .env in research-relay)
# Routes are matched longest-prefix-first
routing:
  - prefix: /opt/media/jelly/hayu
    type: sonarr_hayu
  - prefix: /opt/media/jelly/tv
    type: sonarr_tv
  - prefix: /opt/media/jelly/doc
    type: radarr_doc
  - prefix: /opt/media/jelly/4k
    type: radarr_4k

# Path mappings for container <-> logical (host) path translation
# This allows proper path translation when running in containers
path_mappings:
  - container: /opt/media/jelly
    logical: /mnt/storage/media/jelly
    description: "Main media library - Jellyfin symlink root"
  
  - container: /mnt/remote/realdebrid
    logical: /mnt/cloud/realdebrid-mount
    description: "RealDebrid rclone mount - actual file storage"
  
  - container: /data
    logical: /opt/refresherr/data
    description: "Refresherr data directory (database, logs)"

# Relay configuration
relay:
  # These can be set here or via environment variables
  # base_url: http://research-relay:5050
  # token: your-token-here
  
  # Environment variable names to use (defaults shown)
  base_env: RELAY_BASE
  token_env: RELAY_TOKEN

# Database configuration
database:
  # Path can be set explicitly or defaults to {data_dir}/symlinks.db
  # path: /data/symlinks.db
  data_dir: /data

# Notification configuration
notifications:
  enabled: true
  # discord_webhook: https://discord.com/api/webhooks/...
  # Or set via DISCORD_WEBHOOK environment variable
